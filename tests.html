<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="story_4.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Gerges Tammo</title>

    <!--Maps-->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <!-- INCLUDE LEAFLET SCRIPT LIBRARY -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!--Maps-->
  </head>
  <body>
    <header>
      <div>
        <h1>Gerges Tammo</h1>
        <a href="#introduction">Start</a>
      </div>
    </header>
    <section class="scrollContainer" id="introduction">
      <div class="scrollText">
        <p>
          Gerges ble født i Syria, og familien hans tilhører det kristne
          assyriske samfunnet. De opplevde ingen problemer på grunn av sin
          kristne tro. Gerges, hans bror og søster hadde ingen hindringer med å
          gå på skolen eller delta i kirkeaktiviteter sammen med familien. Faren
          til Gerges jobbet som mekaniker i Syria, og de delte et godt liv
          sammen.
        </p>
      </div>
      <div class="scrollText" id="warStart-1">
        <p>
          Alt startet i 2011 da krigen brøt ut mellom presidenten Assad og
          motstandsbevegelsen. Gerges forteller at da krigen begynte, ble det
          veldig skummelt for de kristne i Syria. Det var ikke trygt å gå til
          kirken uten frykt for å bli angrepet, kun på grunn av deres kristne
          tro.
        </p>
      </div>
      <div class="scrollText" id="warStart-2">
        <p>
          Han beskriver spesielt situasjonen i byen han bodde i, Rakka, der
          kristne utgjorde en liten minoritet og var mål for
          motstandsbevegelsen. Gerges forteller videre at både mormoren og
          tanten hans flyktet fra landet da kidnappinger økte, rammet ikke bare
          kristne, men alle.
        </p>
      </div>
      <div class="scrollText" id="bombing">
        <p></p>
      </div>
      <div class="scrollText" id="libanon">
        <p></p>
      </div>
      <div class="scrollText" id="boat">
        <p></p>
      </div>
      <div class="scrollText" id="flight">
        <p></p>
      </div>
      <div class="scrollText" id="høneffoss">
        <p></p>
      </div>
      <div class="scrollText" id="hiøf">
        <p></p>
      </div>
    </section>
    <!--Working above this line.....................................................................................-->
    <!--
    <section id="fakta" class="scrollContainer">
      <h2>Fakta om Kristne i Syria</h2>
      <div id="beforeConflict" class="scrollText">
        <h2>Før konflikten (før 2011):</h2>
        <aside class="alignRight">
          <div class="circle greenBg">
            <span class="big">10%</span>
            <span class="small">Kristne</span>
          </div>
        </aside>
        <p>
          Før utbruddet av den syriskeborgerkrigen var Syria et land preget av
          religiøs og etnisk mangfold. Kristne utgjorde omtrent 10% av
          befolkningen og tilhørte forskjellige kirkesamfunn, inkludert den
          ortodokse, den katolske og protestantiske kirken. De kristne hadde
          historisk sett en tilstedeværelse i ulike samfunnssektorer, inkludert
          næringsliv, utdanning og politikk.
        </p>
      </div>
      <div id="afterConflict" class="scrollText">
        <h2>Etter konflikten (2017)</h2>
        <aside class="alighRight">
          <div class="circle redBg">
            <span class="big"></span>
            <span class="small"></span>
          </div>
        </aside>
        <p>
          Ifølge Aid to the church så er det estimert at kristne i Syria har
          redusert fra 1,5 millioner til bare 300 tusen fra 2011 til 2022.
        </p>
        <p>
          Etter at internasjonale koalisjonsstyrker og lokale grupper bekjempet
          ISIS og frigjorde områder fra deres kontroll, sto kristne overfor
          utfordringer med å gjenoppbygge og vende tilbake til sine hjem. Mange
          kristne samfunn hadde blitt desimert, og gjenoppbyggingsprosessen ble
          komplisert av økonomiske vanskeligheter, manglende sikkerhet og en
          generell følelse av usikkerhet. Generelle utfordringer: I tillegg til
          de direkte virkningene av konflikten og ISIS' herjinger, har kristne i
          Syria stått overfor generelle utfordringer som har påvirket hele
          befolkningen. Dette inkluderer økonomisk nedgang, mangel på
          grunnleggende ressurser som mat og medisiner, samt vanskeligheter med
          å få tilgang til utdanning og helsehjelp. Mange kristne har også blitt
          internflyktninger, tvunget til å forlate hjemmene sine for å finne
          tryggere områder innenlands.
        </p>
      </div>
    </section>

    <h2>Reisen til Gerges fra Syria til Norge</h2>
    -->
    <!--DIV FOR DRAWING MAP -->

    <main>
      <nav id="businesses"></nav>
      <div id="map"></div>
    </main>
    <script>
      //Function to check if element is in viewport
      function isInViewport(el) {
        const rect = el.getBoundingClientRect();
        return (
          //Improved check of viewport for elements exceeding viewport height
          (rect.top <= 0 && rect.bottom >= 0) ||
          (rect.top >= 0 &&
            rect.left >= 0 &&
            rect.bottom <=
              (window.innerHeight || document.documentElement.clientHeight) &&
            rect.right <=
              (window.innerWidth || document.documentElement.clientWidth))
        );
      }

      //Make a check when page scrolls:
      document.addEventListener(
        "scroll",
        function () {
          //If a specific id is in the viewport...
          if (isInViewport(document.getElementById("warStart-1"))) {
            //...change the parent elements background image
            document.getElementById("introduction").style.backgroundImage =
              "url(https://images.pexels.com/photos/4977013/pexels-photo-4977013.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1)";
          }
          if (isInViewport(document.getElementById("warStart-2"))) {
            //...change the parent elements background image
            document.getElementById("introduction").style.backgroundImage =
              "url(https://cloudfront-us-east-2.images.arcpublishing.com/reuters/AMHUT4PPJJM4BJ2MDNHWYBJ6LQ.jpg)";
          }
          if (isInViewport(document.getElementById("bombing"))) {
            //...change the parent elements background image
            document.getElementById("introduction").style.backgroundImage =
              "url(https://images.unsplash.com/photo-1575651490568-0683f7f0d48e?q=80&w=1929&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)";
          }
          if (isInViewport(document.getElementById("libanon"))) {
            //...change the parent elements background image
            document.getElementById("introduction").style.backgroundImage =
              "url(https://images.unsplash.com/photo-1568731225418-9e0b38a1c78c?q=80&w=2030&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)";
          }
          if (isInViewport(document.getElementById("boat"))) {
            //...change the parent elements background image
            document.getElementById("introduction").style.backgroundImage =
              "url(https://s3.ap-southeast-2.amazonaws.com/cdn.greekherald.com.au/wp-content/uploads/2022/10/06095828/refugees-scaled.jpg)";
          }
          if (isInViewport(document.getElementById("flight"))) {
            //...change the parent elements background image
            document.getElementById("introduction").style.backgroundImage =
              "url(https://images.unsplash.com/photo-1563490390198-b44ccbbc8183?q=80&w=1960&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)";
          }
          if (isInViewport(document.getElementById("høneffoss"))) {
            //...change the parent elements background image
            document.getElementById("introduction").style.backgroundImage =
              "url(https://mediaorigin.nrk.no/movingstill/835035fc-e3cd-40cc-9035-fce3cd20cc85/20220407173656/835035fc-e3cd-40cc-9035-fce3cd20cc85_720.jpg)";
          }
          if (isInViewport(document.getElementById("hiøf"))) {
            //...change the parent elements background image
            document.getElementById("introduction").style.backgroundImage =
              "url(https://www.hiof.no/bilder/bildegalleri/fredrikstad/101-studiestart2019hoyskoleparken.jpg)";
          }
        },
        {
          passive: true,
        }
      );
      /*Maps*/

      //CENTER (Instanbul)
      const centerLat = 41.0082;
      const centerLong = 28.9784;

      //DATA: ARRAY OF PLACES
      const places = [
        { name: "Syria", lat: 34.55197408386172, long: 37.90258861114157 },
        { name: "Libanon", lat: 33.866985150141716, long: 35.92157332821003 },
        { name: "Tyrkia", lat: 39.803128885252136, long: 32.96076694183597 },
        { name: "Hellas", lat: 38.2749497, long: 23.8102717 },
        { name: "Norge", lat: 60.63125258503425, long: 8.214258990051547 },
      ];

      //INITIATE MAP
      let map = L.map("map", {
        center: [centerLat, centerLong],
        zoom: 3,
      });

      //SET MAP CONSTRUCTOR
      L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 10,
        attribution:
          '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
      }).addTo(map);
      //SET MARKERS AND BUILD NAVIGATION
      //create custom icon:
      const remaIcon = L.icon({
        iconUrl: "location-pin.png",
        iconSize: [40, 40],
        iconAnchor: [20, 20],
        popupAnchor: [0, -20],
      });
      //prepare navigation html
      let navHTML = "";
      //Loop places
      places.map((place) => {
        //place markers
        L.marker([place.lat, place.long], { icon: remaIcon })
          .addTo(map)
          .bindPopup(place.name);
        //build navigation
        navHTML += `<article><h3>${place.name}</h3><button onclick="map.flyTo([${place.lat},${place.long}],9)">Vis på kart</button></article>`;
      });
      //Add HTML to nav
      document.getElementById("businesses").innerHTML = navHTML;
      /*Maps*/
    </script>
  </body>
</html>
